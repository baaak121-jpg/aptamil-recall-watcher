# 자주 묻는 질문 (FAQ)

## 일반

### Q: 이 봇은 무엇을 하나요?

A: Aptamil 분유 제품의 리콜 정보를 매일 자동으로 모니터링하고, 등록한 제품의 유통기한(MHD)과 일치하는 리콜이 발견되면 텔레그램 그룹으로 알림을 보냅니다.

### Q: 어떤 소스를 모니터링하나요?

A: 독일 공식 소스 2곳을 모니터링합니다:
- Danone/Nutricia 독일 공식 리콜 페이지
- Aptaclub DE 공식 공지/리콜 페이지

### Q: 얼마나 자주 확인하나요?

A: 매일 오전 9시(KST)에 자동으로 스캔합니다. 변경 사항이 없어도 데일리 리포트를 전송합니다.

### Q: 비용이 드나요?

A: 
- Vercel: 무료 플랜으로 시작 가능 (크론은 Pro 플랜 필요할 수 있음)
- OpenAI API: 변경 감지 시에만 호출 (월 $1 미만 예상)
- Telegram: 무료

## 설정

### Q: 봇을 어떻게 설정하나요?

A:
1. Telegram 그룹 채팅방 생성
2. 봇을 그룹에 초대
3. `/setup` 명령어 실행
4. `/add`로 제품 등록

### Q: 여러 그룹에서 사용할 수 있나요?

A: v1은 단일 그룹만 지원합니다. v3에서 다중 그룹 지원 예정입니다.

### Q: 개인 채팅에서도 사용할 수 있나요?

A: v1은 그룹 채팅만 지원합니다. v3에서 개인 DM 지원 예정입니다.

## 제품 등록

### Q: MHD는 어떤 형식으로 입력하나요?

A: `DD-MM-YYYY` 형식으로 입력하세요. 예: `15-06-2026`

### Q: 같은 제품을 여러 MHD로 등록할 수 있나요?

A: 네, 가능합니다. `/add`를 여러 번 실행하여 다른 MHD를 등록하세요.

### Q: 제품 모델이 목록에 없으면 어떻게 하나요?

A: `src/sources.ts`의 `PRODUCT_MODELS` 배열에 추가하고 재배포하세요.

### Q: 등록한 제품을 수정할 수 있나요?

A: v1은 수정 기능이 없습니다. `/remove`로 삭제 후 `/add`로 다시 등록하세요.

## 알림

### Q: 알림은 언제 받나요?

A: 매일 오전 9시(KST)에 무조건 리포트를 받습니다. 변경 사항이 없어도 전송됩니다.

### Q: ACTION 알림은 무엇인가요?

A: 등록한 제품의 MHD와 정확히 일치하는 리콜이 발견된 경우입니다. 즉시 제품 사용을 중단하고 공식 안내를 확인하세요.

### Q: WATCH 알림은 무엇인가요?

A: 소스에 변경이 감지되었으나 자동 매칭이 불완전한 경우입니다. 수동으로 확인이 필요합니다.

### Q: INFO 알림은 무엇인가요?

A: 변경 사항이 없거나 내 제품과 관련 없는 경우입니다.

### Q: 알림 시간을 변경할 수 있나요?

A: `vercel.json`의 크론 스케줄을 수정하고 재배포하세요. 자세한 내용은 `DEPLOYMENT.md`를 참조하세요.

## 매칭

### Q: 어떻게 매칭하나요?

A: 등록한 MHD가 리콜 공지에서 추출된 날짜 리스트에 정확히 일치하는지 확인합니다 (Exact match).

### Q: 모델명도 매칭하나요?

A: v1은 MHD만 매칭합니다. 모델명 매칭은 v3에서 추가 예정입니다.

### Q: LOT 번호도 지원하나요?

A: v1은 LOT 번호를 지원하지 않습니다. v3에서 추가 예정입니다.

### Q: False positive가 발생할 수 있나요?

A: 네, 다른 모델의 같은 MHD가 리콜되면 매칭될 수 있습니다. 보수적인 접근으로 설계되었으며, 항상 공식 링크를 확인하세요.

## 기술

### Q: 어떤 기술 스택을 사용하나요?

A: TypeScript, Vercel (Serverless Functions + KV + Cron), Telegram Bot API, OpenAI API

### Q: 왜 서버리스인가요?

A: 개발량 최소화, 유지보수 간소화, 비용 최적화를 위해 선택했습니다.

### Q: 데이터는 어디에 저장되나요?

A: Vercel KV (Redis-like 저장소)에 저장됩니다.

### Q: 로컬에서 테스트할 수 있나요?

A: 네, `npm run dev`로 polling 모드로 실행할 수 있습니다. 자세한 내용은 `README.md`를 참조하세요.

## 문제 해결

### Q: 봇이 응답하지 않아요.

A:
1. Webhook이 올바르게 설정되었는지 확인
2. Vercel 함수 로그 확인
3. 환경변수가 올바르게 설정되었는지 확인

자세한 내용은 `DEPLOYMENT.md`의 "문제 해결" 섹션을 참조하세요.

### Q: 데일리 리포트가 오지 않아요.

A:
1. `/setup`을 실행했는지 확인
2. Vercel 크론이 활성화되었는지 확인 (Pro 플랜 필요할 수 있음)
3. Vercel 대시보드에서 크론 로그 확인

### Q: "이미 등록된 모델+MHD 조합입니다" 오류가 나요.

A: 같은 모델과 MHD를 중복으로 등록할 수 없습니다. `/list`로 확인 후 필요 시 `/remove`로 삭제하세요.

### Q: LLM 요약이 "요약 생성 실패"로 나와요.

A:
1. `OPENAI_API_KEY`가 올바르게 설정되었는지 확인
2. OpenAI API 사용량 한도 확인
3. 실패해도 리포트는 정상 전송되며, 기본 문구로 대체됩니다.

### Q: 소스 접근 실패 오류가 나요.

A:
1. 소스 URL이 올바른지 확인 (`src/sources.ts`)
2. 네트워크 연결 확인
3. 소스 웹사이트가 다운되었을 수 있음
4. 실패해도 리포트는 전송되며, 에러 메시지가 포함됩니다.

## 보안

### Q: 누구나 내 봇에 명령어를 실행할 수 있나요?

A: v1은 그룹에 있는 누구나 명령어를 실행할 수 있습니다. v2에서 관리자 권한 체크가 추가될 예정입니다.

### Q: 내 데이터는 안전한가요?

A: 
- 데이터는 Vercel KV에 암호화되어 저장됩니다.
- 환경변수는 Vercel에서 안전하게 관리됩니다.
- 민감한 정보(개인정보 등)는 저장하지 않습니다.

### Q: 봇 토큰이 노출되면 어떻게 하나요?

A:
1. BotFather에서 토큰 재발급 (`/revoke`)
2. Vercel 환경변수 업데이트
3. Webhook 재설정

## 기여

### Q: 기여하고 싶어요.

A: GitHub Issues 또는 Pull Request를 환영합니다! `TODO.md`에서 개선 사항을 확인하세요.

### Q: 버그를 발견했어요.

A: GitHub Issues에 버그 리포트를 남겨주세요. 재현 방법과 로그를 포함해주시면 도움이 됩니다.

### Q: 새로운 기능을 제안하고 싶어요.

A: GitHub Issues에 Feature Request를 남겨주세요.

## 기타

### Q: 다른 제품(Aptamil 외)도 지원하나요?

A: v1은 Aptamil 전용입니다. 다른 제품 지원은 코드 수정이 필요합니다.

### Q: 다른 국가(독일 외)도 지원하나요?

A: v1은 독일 소스만 모니터링합니다. 다른 국가 소스 추가는 `src/sources.ts`를 수정하세요.

### Q: 소스 코드를 상업적으로 사용할 수 있나요?

A: MIT 라이선스로 배포되므로 자유롭게 사용 가능합니다.

### Q: 더 많은 도움이 필요해요.

A: 
- `README.md`: 기본 사용법
- `DEPLOYMENT.md`: 배포 가이드
- `ARCHITECTURE.md`: 시스템 구조
- `TODO.md`: 향후 개선 사항
- GitHub Issues: 질문 및 버그 리포트
